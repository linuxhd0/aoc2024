data â† â€¢file.Lines "3_input.txt"

s â† â€¢Import "bqn-libs/strings.bqn"

nums â† "0123456789"

# Numbers â† { 
#    ne/Ëœâˆ§Â´Â¨                          # keep those lists that begin and end with a number
#    (1âŠ¸â†‘âˆ¾Â¯1âŠ¸â†‘)âŠ¸âˆŠâŸœnumsÂ¨               # find lists that begin and end with a number
#    ne â† (0âŠ¸<âˆ˜â‰ Â¨/âŠ¢)                  # find non empty lists
#    âˆ¾ ")"âŠ¸s.SplitÂ¨ "mul(" s.Split ğ•©  # split the data by "mul(" and ")" 
# }

Numbers â† { ne/Ëœâˆ§Â´Â¨(1âŠ¸â†‘âˆ¾Â¯1âŠ¸â†‘)âŠ¸âˆŠâŸœnumsÂ¨ neâ†(0âŠ¸<âˆ˜â‰ Â¨/âŠ¢) âˆ¾ ")"âŠ¸s.SplitÂ¨ "mul(" s.Split ğ•© }

# Happens to work on this data but would fail on "mul(123,123,123)".
                            
Mult â† {+Â´Ã—Â´âˆ˜(â€¢ParseFloatâŠ0Â¨)Â¨ ','âŠ¸s.SplitÂ¨ Numbers ğ•©}

â€¢Show Mult âˆ¾data

