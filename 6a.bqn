data â† >â€¢file.Lines "6_input.txt"

# The idea is that I rotate the matrix such that the forward direction 
# is always to the right

Done â† âŠ‘((-âŸœ1)âˆ˜â‰ =âŠâŸœ'^')

Ahead â† { 
 map_list â† <Ë˜ğ•© 
 pi       â† âˆ¨Â´âˆ˜('^'âŠ¸=)Â¨ map_list                    # player index 
 or       â† âŠ‘ pi / map_list                         # original row
 fp       â† (âŠâŸœ'^') or                              # from player
 bo       â† (â‰ or)âŒŠfp+(fpâ†“or)âŠ'#'                    # before obstacle
 nr       â† ({(=âŸœ'.')â—¶âŸ¨âŠ¢,'â—‹'âŸ©Â¨âŒ½}âŒ¾(fpâŠ¸â†“))âŒ¾(boâŠ¸â†‘) or  # new row
 # â€¢Show orâ€¿nr 
 (Â¬Done nr)â‹ˆ>nrâŒ¾((âŠ‘piâŠ1)âŠ¸âŠ‘) map_list
}

Orient â† âŒ½Ë˜â‰

Turn â† âŒ½â‰

Go â† { 
    ğ•Š map: 
        1âŠ‘{ğ•Š not_doneâ€¿map: Ahead Turn map}â€¢_while_{ğ•Š not_doneâ€¿map: not_done} Ahead Orient map 
}

â€¢Show 1++Â´'â—‹'=â¥ŠGo data

